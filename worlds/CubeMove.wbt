#VRML_SIM R2025a utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/floors/protos/RectangleArena.proto"
EXTERNPROTO "../protos/CollaborativeRobotTable.proto"
EXTERNPROTO "../protos/LBRiiwa7R800.proto"
EXTERNPROTO "../protos/LBRiiwaGripper.proto"
EXTERNPROTO "../protos/IntelRealsenseD455.proto"

WorldInfo {
  contactProperties [
    ContactProperties {
      bounce 0
      softERP 0.8
      softCFM 0.0001
    }
  ]
}
Viewpoint {
  orientation -0.19234225794742457 0.045318336916043755 0.9802809312369849 2.6876195605627546
  position 5.695645570194792 -2.4165299341359363 3.679910201298961
  followType "Mounted Shot"
}
TexturedBackground {
  texture "empty_office"
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 3 3
}
CollaborativeRobotTable {
  locked TRUE
}
DEF KUKA LBRiiwa7R800 {
  translation -0.267 0 0.79
  controller "iiwa_controller"
  controllerArgs [
    ""
  ]
  endEffectorSlot [
    LBRiiwaGripper {
      camera [
        IntelRealsenseD455 {
          controller "camera_controller"
        }
      ]
    }
  ]
}
Robot {
  children [
    Emitter {
      name "supervisor_emitter"
      channel 2
    }
    Receiver {
      name "supervisor_receiver"
      channel 1
    }
  ]
  name "supervisor"
  controller "supervisor_llm"
  controllerArgs [
    "--gap"
    "0.002"
    "--place-step-z"
    "0.05"
    "--delta-z"
    "0.1"
    "--target-poses"
    "0.577"
    "0.25"
    "0.04"
    "-3.14"
    "0"
    "-3.14"
    "--objects"
    "OBJ1"
  ]
  supervisor TRUE
}
DEF OBJ1 Solid {
  translation 0.31 -0.25 0.83
  rotation 0 1 0 3.14159
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.180392 0.760784 0.494118
        roughness 1
      }
      geometry Box {
        size 0.05 0.05 0.05
      }
    }
  ]
  name "moved_object"
  boundingObject Box {
    size 0.05 0.05 0.05
  }
  physics Physics {
    density -1
    mass 2
    centerOfMass [
      0 0 0
    ]
    inertiaMatrix [
      0.0008333333333333335 0.0008333333333333335 0.0008333333333333335
      0 0 0
    ]
  }
}
